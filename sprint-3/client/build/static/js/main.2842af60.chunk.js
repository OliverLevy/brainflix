(this["webpackJsonpsprint-1"]=this["webpackJsonpsprint-1"]||[]).push([[0],{15:function(e,a,t){e.exports=t.p+"static/media/Mohan-muruge.ba2f48f9.jpg"},16:function(e,a,t){e.exports=t.p+"static/media/Icon-likes.23c3f857.svg"},31:function(e,a,t){e.exports=t.p+"static/media/Logo-brainflix.1e121e6b.svg"},32:function(e,a,t){e.exports=t.p+"static/media/Icon-upload.909b8976.svg"},34:function(e,a,t){e.exports=t.p+"static/media/Icon-views.a488fc5b.svg"},36:function(e,a,t){e.exports=t(71)},41:function(e,a,t){},42:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(30),r=t.n(l),i=(t(41),t(10)),o=t(11),m=t(13),s=t(12),d=t(8),u=t(1),p=t(31),h=t.n(p),_=t(32),v=t.n(_),E=t(15),f=t.n(E);t(42);var N=function(){return c.a.createElement("header",{className:"header"},c.a.createElement(d.b,{to:"/"},c.a.createElement("img",{src:h.a,alt:"Brainflix logo",className:"header__logo"})),c.a.createElement("div",{className:"header__items"},c.a.createElement("div",{className:"header__search-container"},c.a.createElement("form",null,c.a.createElement("input",{type:"search",className:"header__search-bar",placeholder:"Search"})),c.a.createElement("div",{className:"header__search-icon"})),c.a.createElement("div",{className:"header__upload-container"},c.a.createElement(d.b,{to:"/uploads",className:"header__link btn"},c.a.createElement("button",{className:"header__upload btn"},c.a.createElement("div",{className:"header__upload-items"},c.a.createElement("img",{src:v.a,alt:"uploads button"}),"UPLOAD"))),c.a.createElement("div",{className:"header__avatar-container"},c.a.createElement("img",{src:f.a,alt:"avatar",className:"header__avatar"})))))},g=t(35),b=t(3),k=t.n(b);t(65);var V=function(e){var a=e.mainVid;return c.a.createElement("div",{className:"hero"},c.a.createElement("div",{className:"hero__vid-container"},c.a.createElement("video",{className:"hero__vid",src:a.video,poster:a.image,alt:"Hero img",muted:!0}),c.a.createElement("div",{className:"controls"},c.a.createElement("button",{className:"controls__play"}),c.a.createElement("div",{className:"controls__progress"},c.a.createElement("progress",{type:"range",className:"controls__progress-range",min:"0",max:"100",value:"0"}),c.a.createElement("p",{className:"controls__progress-duration"},"0:00/",a.duration)),c.a.createElement("div",{className:"controls__items"},c.a.createElement("div",{className:"controls__full-screen"}),c.a.createElement("div",{className:"controls__volume"})))))},x=t(34),y=t.n(x),D=t(16),O=t.n(D);t(66);var C=function(e){var a=e.mainVid,t=e.dynaDate,n=e.likeVideoHandler;return c.a.createElement("div",{className:"desc"},c.a.createElement("h1",{className:"desc__title"},a.title),c.a.createElement("div",{className:"desc__items"},c.a.createElement("div",{className:"desc__channel-container"},c.a.createElement("h3",{className:"desc__channel"},"By ",a.channel),c.a.createElement("h4",{className:"date"},t(a.timestamp))),c.a.createElement("div",{className:"desc__stats"},c.a.createElement("div",{className:"desc__stats-views"},c.a.createElement("img",{className:"desc__views-icon",src:y.a,alt:"views-icon"}),c.a.createElement("p",null,a.views)),c.a.createElement("button",{className:"desc__stats-likes",onClick:n},c.a.createElement("img",{className:"desc__likes-icon",src:O.a,alt:"likes-icon"}),c.a.createElement("p",null,a.likes)))),c.a.createElement("div",{className:"divider"}),c.a.createElement("p",{className:"desc__text"},a.description))},H=(t(67),function(e){Object(m.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=a.call.apply(a,[this].concat(c))).state={likeBtnOff:"old-comment__like--off",likeBtnOn:"old-comment__like--on"},e.likeBtnClassName=function(a){return 0===a?e.state.likeBtnOff:e.state.likeBtnOn},e}return Object(o.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.submitHandler,n=a.mainVid,l=a.dynaDate,r=a.deleteHandler,i=a.likeCommentHandler,o=function(){return 1===n.length?c.a.createElement("h3",null,n.length," Comment"):c.a.createElement("h3",null,n.length," Comments")};return c.a.createElement("div",null,c.a.createElement("div",{className:"add-comment"},c.a.createElement(o,null),c.a.createElement("div",{className:"add-comment__card"},c.a.createElement("div",{className:"add-comment__avatar-container"},c.a.createElement("img",{className:"add-comment__avatar",src:f.a,alt:"user-avatar"})),c.a.createElement("form",{onSubmit:t,className:"add-comment__form"},c.a.createElement("div",{className:"add-comment__input-container"},c.a.createElement("h5",null,"Join the conversation"),c.a.createElement("textarea",{className:"add-comment__input",name:"commentBox",placeholder:"Add a comment",required:!0})),c.a.createElement("button",{className:"add-comment__btn btn"},"COMMENT"))),c.a.createElement("div",{className:"divider"})),c.a.createElement("div",{className:"old-comment"},n.map((function(a){return c.a.createElement("div",{key:a.id},c.a.createElement("div",{className:"old-comment__card"},c.a.createElement("div",{className:"old-comment__avatar"}),c.a.createElement("div",{className:"old-comment__items"},c.a.createElement("div",{className:"old-comment__info"},c.a.createElement("h3",null,a.name),c.a.createElement("h4",{className:"date"},l(a.timestamp))),c.a.createElement("div",null,c.a.createElement("p",{className:"old-comment__comment"},a.comment),c.a.createElement("div",{className:"old-comment__controls"},c.a.createElement("button",{className:"old-comment__like",onClick:function(){i(a.id)}},c.a.createElement("img",{className:"old-comment__like-img",src:O.a,alt:"likeIcon"}),c.a.createElement("p",{className:e.likeBtnClassName(a.likes)},a.likes)),c.a.createElement("button",{className:"old-comment__delete-btn",onClick:function(){return r(a.id)}},"X"))))),c.a.createElement("div",{className:"divider"}))}))))}}]),t}(c.a.Component));t(68);var w=function(e){var a=e.data,t=e.mainVid,n=a.filter((function(e){return e.id!==t.id}));return c.a.createElement("div",{className:"up-next"},c.a.createElement("h5",{className:"up-next__header"},"NEXT VIDEO"),n.map((function(e){return c.a.createElement(d.b,{key:e.id,to:"/video/".concat(e.id),className:"up-next__link"},c.a.createElement("div",{className:"up-next__card"},c.a.createElement("div",{className:"up-next__img-container"},c.a.createElement("img",{src:""+e.image,alt:e.title,className:"up-next__img"})),c.a.createElement("div",{className:"up-next__text"},c.a.createElement("h3",{className:"up-next__text-title"},e.title),c.a.createElement("p",null,e.channel))))})))},B=(t(69),function(e){Object(m.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=a.call.apply(a,[this].concat(c))).state={data:[],mainVid:[]},e.setDefaultVideo=function(){var a=e.state.data[0].id;k.a.get("/video/".concat(a)).then((function(a){e.setState({mainVid:a.data})})).catch((function(e){return alert(e)}))},e.setMainVideo=function(){var a=e.props.match.params.id;a&&k.a.get(a).then((function(a){e.setState({mainVid:a.data})}))},e.dynaDate=function(e){var a=(Date.now()-e)/1e3,t=new Date(e),n=t.getDate(),c=t.getMonth()+1,l=t.getFullYear();return a<60?"".concat(Math.trunc(a),"s ago"):a<3600?"".concat(Math.trunc(a/60),"m ago"):a<86400?"".concat(Math.trunc(a/60/60),"h ago"):a<2592e3?"".concat(Math.trunc(a/30/60/60),"d ago"):"".concat(c,"/").concat(n,"/").concat(l)},e.addComment=function(a){var t=e.state.mainVid,n=[].concat(Object(g.a)(e.state.mainVid.comments),[a.data]);t.comments=n,e.setState({mainVid:t})},e.deleteComment=function(a){var t=e.state.mainVid,n=t.comments.filter((function(e){return e.id!==a}));t.comments=n,e.setState({mainVid:t})},e.submitHandler=function(a){if(a.preventDefault(),""===a.target.commentBox.value)return alert("There is nothing in your comment, please stop being a hecker.");e.props.match.params.id?k.a.post("".concat(e.props.match.params.id,"/comments"),{name:"Jon Barson",comment:a.target.commentBox.value}).then((function(a){return e.addComment(a)})).catch((function(e){return console.log(e)})):k.a.post("/video/".concat(e.state.data[0].id,"/comments"),{name:"Jon Barson",comment:a.target.commentBox.value}).then((function(a){e.addComment(a)})).catch((function(e){return console.log(e)})),a.target.reset()},e.deleteHandler=function(a){e.props.match.params.id?k.a.delete("".concat(e.props.match.params.id,"/comments/").concat(a)).then((function(t){return e.deleteComment(a)})).catch((function(e){return console.log(e)})):k.a.delete("/video/".concat(e.state.data[0].id,"/comments/").concat(a)).then((function(t){return e.deleteComment(a)})).catch((function(e){return console.log(e)}))},e.updateVideoLike=function(a){e.setState({mainVid:a.data})},e.likeVideoHandler=function(){e.props.match.params.id?k.a.post("".concat(e.props.match.params.id,"/like")).then((function(a){return e.updateVideoLike(a)})).catch((function(e){return console.log(e)})):k.a.post("/video/".concat(e.state.data[0].id,"/like")).then((function(a){return e.updateVideoLike(a)})).catch((function(e){return console.log(e)}))},e.likeCommentHandler=function(a){e.props.match.params.id?k.a.post("".concat(e.props.match.params.id,"/comments/").concat(a,"/like")).then((function(a){return e.updateVideoLike(a)})).catch((function(e){return console.log(e)})):k.a.post("/video/".concat(e.state.data[0].id,"/comments/").concat(a,"/like")).then((function(a){return e.updateVideoLike(a)})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.get("/video").then((function(a){e.setState({data:a.data})})).catch((function(e){return alert(e)}))}},{key:"componentDidUpdate",value:function(e,a){this.props.match.params.id||this.props.match.params.id===e.match.params.id?this.props.match.params.id!==e.match.params.id&&this.setMainVideo():this.setDefaultVideo()}},{key:"render",value:function(){return 0===this.state.data.length||0===this.state.mainVid.length?(this.state.data[0]||!this.props.match.params?this.setDefaultVideo():this.setMainVideo(),c.a.createElement("div",{className:"main__loading"},c.a.createElement("h1",null,"loading..."))):c.a.createElement("div",{className:"main"},c.a.createElement(V,{mainVid:this.state.mainVid}),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"content__main"},c.a.createElement(C,{mainVid:this.state.mainVid,dynaDate:this.dynaDate,likeVideoHandler:this.likeVideoHandler}),c.a.createElement(H,{submitHandler:this.submitHandler,deleteHandler:this.deleteHandler,mainVid:this.state.mainVid.comments,dynaDate:this.dynaDate,likeCommentHandler:this.likeCommentHandler})),c.a.createElement("div",{className:"content__aside"},c.a.createElement(w,{data:this.state.data,mainVid:this.state.mainVid}))))}}]),t}(c.a.Component));t(70);var j=function(e){var a=e.uploadHandler;return c.a.createElement("div",{className:"upload"},c.a.createElement("div",{className:"divider"}),c.a.createElement("h1",{className:"upload__header"},"Upload Video"),c.a.createElement("form",{onSubmit:a,className:"upload__form"},c.a.createElement("div",{className:"divider upload__divider upload__divider--top"}),c.a.createElement("div",{className:"upload__container"},c.a.createElement("div",{className:"upload__img-container"},c.a.createElement("h5",null,"VIDEO THUMBNAIL"),c.a.createElement("img",{name:"img",src:"https://images.unsplash.com/photo-1593455071238-92dd081a39b1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1350&q=80",alt:"placeholder img",className:"upload__img"})),c.a.createElement("div",{className:"upload__text-container"},c.a.createElement("div",{className:"upload__form-input-container-top"},c.a.createElement("h5",null,"TITLE YOUR VIDEO"),c.a.createElement("input",{type:"text",name:"title",className:"upload__form-input upload__form-input-text",placeholder:"Add a title to your video"})),c.a.createElement("div",{className:"upload__form-input-container-bottom"},c.a.createElement("h5",null,"ADD A VIDEO DESCRIPTION"),c.a.createElement("textarea",{name:"description",className:"upload__form-input upload__form-text-area",placeholder:"Add a description to your video"})))),c.a.createElement("div",{className:"divider upload__divider upload__divider--bottom"}),c.a.createElement("div",{className:"upload__btn-container"},c.a.createElement("button",{className:"upload__cancel"},c.a.createElement("h3",null,"CANCEL")),c.a.createElement("button",{className:"upload__btn btn"},c.a.createElement("h3",null,"PUBLISH")))))},I=function(e){Object(m.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=a.call.apply(a,[this].concat(c))).uploadHandler=function(e){e.preventDefault(),k.a.post("/video",{upload:{title:e.target.title.value,description:e.target.description.value,image:e.target.img.src}}).catch((function(e){return console.error(e)})),e.target.reset()},e}return Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(d.a,null,c.a.createElement(N,null),c.a.createElement(u.c,null,c.a.createElement(u.a,{path:"/",exact:!0,component:B}),c.a.createElement(u.a,{path:"/video/:id",component:B}),c.a.createElement(u.a,{path:"/uploads"},c.a.createElement(j,{uploadHandler:this.uploadHandler}))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.2842af60.chunk.js.map